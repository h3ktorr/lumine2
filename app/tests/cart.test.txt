1. Cart Component

âœ… Rendering & Visibility

Renders hidden by default when isCartOpen = false.

Renders visible overlay + panel when isCartOpen = true.

âœ… Closing Behavior

Clicking the close X button calls closeCart.

Clicking the overlay (outside of the panel) calls closeCart.

Clicking inside the panel does not close the cart.

âœ… Body Scroll Lock

When isCartOpen = true, document.body.style.overflow should be "hidden".

When closed, it should reset to "auto".

âœ… Store Integration

Calls getCart(wixClient) on mount (and when wixClient changes).

2. Cart_items

âœ… Empty State

Renders "Cart is empty" when cart.lineItems is undefined or empty.

âœ… With Items

Renders one CartItem per line item in store.

Passes isLoading correctly to each CartItem.

3. CartItem

âœ… Rendering

Displays product image (via wixMedia.getScaledToFillImageUrl).

Displays product name (shortened version on small screen, full name on larger).

Shows variant size once itâ€™s fetched (mock wixClient.products.getProduct).

Shows "Loading..." while variant size is being fetched.

âœ… Quantity Controls

Clicking + increases quantity and calls updateItemQuantity with correct args.

Clicking â€“ decreases quantity (but not below 1).

Quantity text updates correctly.

âœ… Remove Item

Clicking trash icon calls removeItem(wixClient, item._id).

âœ… Price

Displays correct subtotal per item (quantity * price).

4. Cart_summary

âœ… Subtotal / Total

Displays Subtotal as cart.subtotal.amount.

Displays Total as the same number.

âœ… Checkout Button

Checkout button is shown when subtotal.amount > 0.

Checkout button is hidden when subtotal.amount = 0 or undefined.

âœ… Static Info

Always shows "Free Shipping" text.

5. Integration Test (Optional but Good)

Render the full Cart with mocked ShopContext + useCartStore.

Open the cart â†’ add items â†’ assert that Cart_summary updates accordingly.

Mock a checkout flow trigger (clicking checkout button).

ðŸ‘‰ In short, youâ€™ll want:

Unit tests for each component (Cart, Cart_items, CartItem, Cart_summary).

Integration test for Cart (ensuring context + store interactions work end-to-end).